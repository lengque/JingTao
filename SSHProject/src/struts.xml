<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">
  
<struts>
    <!-- struts.multipart.saveDir用于指定存放临时文件的文件夹 -->
    <constant name="struts.multipart.saveDir" value="/tmp"/>
    <!--UserController Start-->
    
    <package name="Login" namespace="/" extends="struts-default">
       <!-- 注册 -->
       <action name="register" class="userController" method="register">
           <result name="success">/success.jsp</result>
       </action>
       <!-- 登陆 -->
       <action name="login" class="userController" method="login">
           <result name="success">/Resources/pages/main.jsp</result>
       </action>
    </package>
    
    <!-- 每一个package对应一个业务逻辑 -->
    <package name="user" namespace="/user" extends="struts-default">
	    <interceptors>
	    	<!--登录验证 -->
			<interceptor name="loginVerify" class="loginInterceptor"/>
			
			<interceptor-stack name="verify">
				<interceptor-ref name="defaultStack"/>
				<interceptor-ref name="loginVerify"/>
			</interceptor-stack>
		</interceptors>
		
		<default-interceptor-ref name="verify"/>
		<!-- 全局变量-->
        <global-results>  
            <result name="login">/login.jsp</result>  
        </global-results>
       
       <!-- 更新用户信息-->
       <action name="modifyInfo" class="userController" method="modifyInfo">
            <result name="success">/success.jsp</result>
        </action>
         <!-- 更新用户密码-->
         <action name="modifyPsw" class="userController" method="modifyPassword">
            <result name="success">/success.jsp</result>
        </action>
         <!-- 删除一个用户-->
         <action name="deleteUser" class="userController" method="deleteUser">
            <result name="success">/success.jsp</result>
        </action>
    </package>
    
     <!--UserController End-->
</struts>
